# 햅틱 피드백 시스템 - 핵심 기능 예제

이 디렉토리에는 GUI와 그래프를 제외한 햅틱 피드백 시스템의 핵심 기능만을 구현한 예제 코드들이 포함되어 있습니다.

## 📁 파일 구조

### 원본 모듈들
- `izhikevich_neuron.py` - Izhikevich 뉴런 모델 구현
- `spike_encoder.py` - SA/RA 뉴런 스파이크 인코딩 로직
- `audio_player.py` - 사운드 재생 기능
- `haptic_renderer.py` - 햅틱 사운드 생성

### 핵심 기능 예제들
- `haptic_core_example.py` - **완전한 기능 예제** (사운드 포함)
- `simple_haptic_demo.py` - **최소 기능 예제** (의존성 없음)

## 🎯 핵심 개념

### Izhikevich 뉴런 모델
```
dv/dt = 0.04v² + 5v + 140 - u + I
du/dt = a(bv - u)

if v ≥ 30: v ← c, u ← u + d
```

### 뉴런 타입
- **SA (Slowly Adapting)**: 지속적인 압력을 감지, 시간이 지나면서 적응
- **RA (Rapidly Adapting)**: 변화(움직임, 속도)를 민감하게 감지

### 재질 시뮬레이션
- **Smooth**: 거칠기 0.3 (부드러운 표면)
- **Medium**: 거칠기 0.7 (보통 표면)  
- **Rough**: 거칠기 1.2 (거친 표면)

## 🚀 실행 방법

### 1. 최소 기능 예제 (추천)
```bash
python simple_haptic_demo.py
```
- **의존성**: Python 표준 라이브러리 + numpy만 필요
- **기능**: 뉴런 시뮬레이션, 재질별 차이 확인, 적응 효과 시연
- **장점**: 빠른 실행, 핵심 로직에 집중

### 2. 완전한 기능 예제
```bash
python haptic_core_example.py
```
- **의존성**: pygame 필요 (`pip install pygame`)
- **기능**: 뉴런 시뮬레이션 + 실제 사운드 재생
- **장점**: 완전한 햅틱 피드백 경험

## 🧪 실험 시나리오

### simple_haptic_demo.py에서 확인할 수 있는 것들:

1. **기본 클릭 반응**
   - SA 뉴런의 압력 감지
   - 스파이크 발생 패턴

2. **재질별 차이**
   - 동일한 속도에서 재질에 따른 RA 스파이크 개수 차이
   - Smooth → Medium → Rough 순으로 스파이크 증가

3. **SA 뉴런 적응 (Adaptation)**
   - 지속적 자극에 대한 발화 빈도 감소
   - 파라미터 `a` 값의 점진적 감소

4. **속도 의존성**
   - 마우스 속도에 따른 RA 뉴런 반응 강도 변화

## 📊 예상 출력 예시

```
🎯 === 간단한 햅틱 피드백 시스템 데모 ===

📊 === 햅틱 시스템 상태 (스텝 0) ===
🏗️ 재질: Smooth (거칠기: 0.3)
🖱️ 마우스: 릴리즈됨, 속도: 0
🧠 SA 뉴런: V=-70.0mV, U=-14.0 (스파이크: 0개)
🧠 RA 뉴런: V=-65.0mV, U=-13.0 (스파이크: 0개)

🎬 시나리오: 기본 클릭 테스트
🖱️ 마우스 클릭 -> SA 뉴런 자극
⚡ SA 스파이크! (총 1개) - 압력 감지
⚡ SA 스파이크! (총 2개) - 압력 감지

🔬 재질별 스파이크 비교 테스트
Smooth: RA 스파이크 8개 (거칠기 0.3)
Medium: RA 스파이크 12개 (거칠기 0.7)
Rough : RA 스파이크 18개 (거칠기 1.2)
```

## 🔧 커스터마이징

### 뉴런 파라미터 조정
```python
# SA 뉴런 (더 느린 적응)
sa_neuron = SimpleNeuron(a=0.01, b=0.2, c=-65.0, d=10.0)

# RA 뉴런 (더 민감한 반응)
ra_neuron = SimpleNeuron(a=0.15, b=0.25, c=-60.0, d=1.5)
```

### 재질 추가
```python
materials = {
    'Glass': 0.1,      # 매우 부드러운
    'Wood': 0.5,       # 중간
    'Sandpaper': 2.0   # 매우 거친
}
```

### 시뮬레이션 속도 조정
```python
# 더 빠른 시뮬레이션
time.sleep(0.001)  # 1ms 간격

# 더 느린 시뮬레이션 (관찰용)
time.sleep(0.1)    # 100ms 간격
```

## 🎓 학습 포인트

1. **뉴런 모델링**: Izhikevich 모델의 간단함과 표현력
2. **적응 메커니즘**: SA 뉴런의 장기 적응 구현
3. **센서 융합**: 압력(SA)과 변화(RA) 정보의 결합
4. **재질 구분**: 물리적 특성을 뉴런 반응으로 변환
5. **실시간 처리**: 연속적인 입력에 대한 실시간 뉴런 반응

## 💡 확장 아이디어

- 온도, 습도 등 다른 감각 모달리티 추가
- 다중 접촉점 시뮬레이션
- 기계학습을 통한 재질 분류
- VR/AR 환경과의 통합
- 실제 햅틱 디바이스 연동 